# Frontend Environment Configuration
# =====================================
# Configuration for gRINN Web Service Frontend
# This includes web interface, database, and job queue

# Database Configuration
# For local development, use SQLite (no setup required)
DATABASE_URL=sqlite:////tmp/grinn_dev.db

# For production with PostgreSQL
# POSTGRES_USER=grinn_user
# POSTGRES_PASSWORD=grinn_secure_password_2024
# POSTGRES_DB=grinn_web
# POSTGRES_HOST=postgres
# POSTGRES_PORT=5432
# DATABASE_URL=postgresql://grinn_user:grinn_secure_password_2024@postgres:5432/grinn_web

# Redis Configuration (Job Queue)
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=redis_secure_password_2024

# Application Configuration
SECRET_KEY=dev-secret-key-change-in-production
DEBUG=true

# Storage Configuration
# Path to store job files (input/output)
STORAGE_PATH=/data/grinn-jobs

# Global Submission Limits
# Trajectory file size limit in MB (.xtc/.trr)
MAX_TRAJECTORY_FILE_SIZE_MB=100
# Other input file size limit in MB (pdb/itp/topology etc.)
MAX_OTHER_FILE_SIZE_MB=10
# Global max frames/models limit (empty disables)
MAX_FRAMES=

# How long to keep job files before cleanup (hours)
JOB_FILE_RETENTION_HOURS=72

# Worker Registration Token (generate with: python -c "import secrets; print(secrets.token_urlsafe(32))")
# Required for remote workers to authenticate
WORKER_REGISTRATION_TOKEN=

# Network Configuration (for worker connectivity)
# These ports will be exposed for remote workers
POSTGRES_EXTERNAL_PORT=5432
REDIS_EXTERNAL_PORT=6379

# Public IP for worker connectivity
FRONTEND_PUBLIC_IP=

# Web Interface Ports
BACKEND_PORT=5000
FRONTEND_PORT=8051

# Public hostname/IP for client-facing URLs (e.g., download links, dashboard iframes)
# If not set, defaults to the system hostname (socket.gethostname())
# For remote access, set this to your server's public IP or domain name
# PUBLIC_HOST=your-server.example.com

# Full URL override for backend API (for reverse proxy setups)
# Use this when the backend is proxied through nginx/apache on a different path or port
# Example: https://example.com/api (nginx proxies /api/* to localhost:5000/api/*)
# BACKEND_PUBLIC_URL=https://your-server.example.com/api

# Public hostname/IP for dashboard URLs (used in dashboard iframe links)
# If not set, defaults to PUBLIC_HOST (or system hostname if PUBLIC_HOST is also not set)
# DASHBOARD_PUBLIC_HOST=your-server.example.com

# Full URL template for dashboard instances (for reverse proxy setups)
# Use {job_id} as placeholder for the job ID
# Example: https://example.com/api/dashboard/{job_id} (backend proxies to dashboard container)
# DASHBOARD_PUBLIC_URL_TEMPLATE=https://your-server.example.com/api/dashboard/{job_id}

# Security Settings
# Change these passwords for production use
POSTGRES_ROOT_PASSWORD=postgres_root_secure_2024
CELERY_BROKER_URL=redis://:redis_secure_password_2024@redis:6379/0
CELERY_RESULT_BACKEND=redis://:redis_secure_password_2024@redis:6379/0

# Logging
LOG_LEVEL=INFO

EXAMPLE_DATA_PATH=/mnt/c/experiments/grinn_tutorials/tutorial_2LZM